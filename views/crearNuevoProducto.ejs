<!DOCTYPE html>
<html lang="en">
<head>
    
    <%- include('partials/head') %> 
    <link rel="stylesheet" href="../css/styles-editarproducs.css">
    <title>Blockbuster</title>

</head>
<body>
    <%- include('partials/header') %>  

<main>
    
    


    <main class="all-form">
        <!-- register form -->
        <!-- <div class="center"></div> -->
        <h1 class="tituloPag">Subir Nueva Pelicula</h1>

        <form class="form-ingreso-peli" action="/products/guardarNuevoProducto" method="POST"  enctype="multipart/form-data">
            <div class="txt_field">
                <input value="<%= locals.oldData ? oldData.titulo : null %>" type="text" name="titulo" class="titulo">
                <label> Nombre de pelicula:</label>
                <span class="errorTitulo" style="color: rgb(255, 149, 0);">
                <% if (locals.errors && errors.titulo) { %>
                    <%= errors.titulo.msg %></p>
                <% } %>
                </span>
                
            </div>

            
            <div class="txt_field">
                <input  value="<%= locals.oldData ? oldData.duracion : null %>"  type="text" name="duracion" class="duracion">
                <label>Duracion</label>
                <% if (locals.errors && errors.duracion) { %>
                    <span style="color: rgb(255, 149, 0);"><%= errors.duracion.msg %></span>
                <% }else{ %>
                <span style="color: green;">✓</span>
                <% } %>
            </div>
            <div class="txt_field">
                <input  value="<%= locals.oldData ? oldData.release_year : null %>"  type="text" name="release_year" class="release_year">
                <span></span>
                <label>Año</label>
                <% if (locals.errors && errors.release_year) { %>
                    <span style="color: rgb(255, 149, 0);"><%= errors.release_year.msg %></span>
                <% }else{ %>
                <span style="color: green;">✓</span>
                <% } %>
            </div>
            
            <div class="txt_field">
                <input  value="<%= locals.oldData ? oldData.precio : null %>"  type="text" name="precio" class="precio">
                <label>Precio</label>
                <% if (locals.errors && errors.precio) { %>
                    <span style="color: rgb(255, 149, 0);"><%= errors.precio.msg %></span>
                <% }else{ %>
                <span style="color: green;">✓</span>
                <% } %>
            </div>
            <div class="txt_field">
                <input  value="<%= locals.oldData ? oldData.CalificacionBlockbuster : null %>"  type="text" name="CalificacionBlockbuster" class="CalificacionBlockbuster">
                <span></span>
                <label>Calificacion Blockbuster</label>
                <% if (locals.errors && errors.CalificacionBlockbuster) { %>
                    <span style="color: rgb(255, 149, 0);"><%= errors.CalificacionBlockbuster.msg %></span>
                <% }else{ %>
                <span style="color: green;">✓</span>
                <% } %>
            </div>
            <div class="txt_field">
                <input  value="<%= locals.oldData ? oldData.CalificacionIMDb : null %>"  type="text" name="CalificacionIMDb" class="CalificacionIMDb">
                <span></span>
                <label>Calificacion IMDb</label>
                <% if (locals.errors && errors.CalificacionIMDb) { %>
                    <span style="color: rgb(255, 149, 0);"><%= errors.CalificacionIMDb.msg %></span>
                <% }else{ %>
                <span style="color: green;">✓</span>
                <% } %>
            </div>
            <div class="txt_field">
                <input  value="<%= locals.oldData ? oldData.CalificacionRottenTomatoes : null %>"  type="text" name="CalificacionRottenTomatoes" class="CalificacionRottenTomatoes">
                <span></span>
                <label>Calificacion Rotten Tomatoes</label>
                <% if (locals.errors && errors.CalificacionRottenTomatoes) { %>
                    <span style="color: rgb(255, 149, 0);"><%= errors.CalificacionRottenTomatoes.msg %></span>
                <% }else{ %>
                <span style="color: green;">✓</span>
                <% } %>
            </div>
 
           
           
            <div class="txt_field">
                <input  value="<%= locals.oldData ? oldData.trailer : null %>"  type="text" name="trailer" class="trailer">
                <span></span>
                <label>URL Trailer</label>
                <% if (locals.errors && errors.trailer) { %>
                    <span style="color: rgb(255, 149, 0);"><%= errors.trailer.msg %></span>
                <% }else{ %>
                <span style="color: green;">✓</span>
                <% } %>
            </div>

            <article>
                <div class="text-area">
                    <h5>Descripcion</h5>
                    <textarea name="descripcion" class="descripcion" cols="50" rows="5" placeholder="En los caminos hacia el bosque..."><%= locals.oldData ? oldData.descripcion : null %></textarea>
                </div>
                <% if (locals.errors && errors.descripcion) { %>
                    <span style="color: rgb(255, 149, 0);"><%= errors.descripcion.msg %></span>
                <% }else{ %>
                <span style="color: green;">✓</span>
                <% } %>
            </article>
        


        <div class="lista-check">
            <h5>Generos</h5>
            <% Genres.forEach(element => { %>
                <div>
                    <input type="checkbox" name="genres" id="<%= element.id %>" value="<%= element.id %>">
             <label for="<%= element.id %>"><%= element.genre %> </label>
            </div>
            <% }) %>
        </div>
        <div class="lista-check">
            <h5>Idiomas</h5>
            <% Languages.forEach(element => { %>
                <div>
                    <input type="checkbox" name="languages" id="<%= element.language %>" value="<%= element.id %>">
             <label for="<%= element.language %>"><%= element.language %> </label>
            </div>
            <% }) %>
        </div>
        
        

          
          


            <!-- on/off -->
            <div class="switch-holder">
                <div class="switch-label">
                    <span>Activa</span>
                </div>
                <div class="switch-toggle">
                    <input type="checkbox" name="is_active" value="1" id="bluetooth">
                    <label for="bluetooth"></label>
                </div>
            </div>

            
            <input type="radio" name="radio-foto" id="subir-foto"  class="radio-foto">
            <div class="image-upload">
                <label for="file-input" class="div-subir-foto">
                    <p>Subir foto</p>
                    <i class="fa-solid fa-cloud-arrow-up"></i>
                </label>
                <input id="file-input" type="file" name="imageMovie" class="imageMovie" />
                <% if (locals.errors && errors.imageMovie) { %>
                    <span style="color: rgb(255, 149, 0);"><%= errors.imageMovie.msg %></span>
                <% }else{ %>
                <span style="color: green;">✓</span>
                <% } %>
            </div>
            
            <input type="radio" name="radio-foto" id="url-foto" class="radio-foto">
            <div class="txt_field" >
                <input  value="<%= locals.oldData ? oldData.imagen : null %>"  type="text" name="imagen" class="urlImage">
                <span></span>
                <label>ó URL imagen</label>
                <% if (locals.errors && errors.imagen) { %>
                    <span style="color: rgb(255, 149, 0);"><%= errors.imagen.msg %></span>
                <% }else{ %>
                <span style="color: green;">✓</span>
                <% } %>
            </div>
        
            
            <input class="pass" type="submit" value="Subir Pelicula" >
            

            <div class="signup_link">
                <a href="/products/administrarProductos">Administrar peliculas</a>
            </div>


        </form>





</main>




    <%- include('partials/footer') %> 
<script src="/js/validateCrudMovie.js" type="text/javascript"></script>
</body>
</html>